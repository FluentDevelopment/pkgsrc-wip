Character encoding auto-detection in Ruby. Base on Mark Pilgrim's Python port.
